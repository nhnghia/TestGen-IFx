CC = g++
AR = ar
CFLAGS = -Wall -O3 -DABSTRACT -fno-stack-protector -Wno-write-strings -Wno-deprecated -Wno-parentheses -Wno-missing-field-initializers -Wno-unused-parameter -Wno-overloaded-virtual -g -rdynamic

.SUFFIXES: .o .C .h

.C.o:	
	${CC} -c -o $*.o $(CFLAGS) -I${IF}/src/simulator $*.C -lstdc++


all: obj
	 ${AR} -rs tsp.a Tool.o Bfs.o Explorator.o HitOrJump.o main.o 
obj:
	${CC} -c -o Tool.o $(CFLAGS) -I${IF}/src/simulator Tool.cpp
	${CC} -c -o Exhaustive.o $(CFLAGS) -I${IF}/src/simulator Exhaustive.cpp
	${CC} -c -o Explorator.o $(CFLAGS) -I${IF}/src/simulator Explorator.cpp
	${CC} -c -o HitOrJump.o $(CFLAGS) -I${IF}/src/simulator HitOrJump.cpp
	${CC} -c -o CallTrace.o $(CFLAGS) -I${IF}/src/simulator CallTrace.cpp
	${CC} -c -o Event.o $(CFLAGS) -I${IF}/src/simulator Event.cpp
	${CC} -c -o TestCase.o $(CFLAGS) -I${IF}/src/simulator TestCase.cpp
#	${CC} -c -o Dfs.o $(CFLAGS) -I${IF}/src/simulator Dfs.C
#	${CC} -c -o ManageOutputFiles.o $(CFLAGS) -I${IF}/src/simulator ManageOutputFiles.C
	${CC} -c -o main.o $(CFLAGS) -I${IF}/src/simulator main.C
#	${CC} -c -o ManageStopConditions.o $(CFLAGS) -I${IF}/src/simulator ManageStopConditions.C
	${CC} -c -o state_list.o $(CFLAGS) -I${IF}/src/simulator state_list.C
	${CC} -c -o state_queue.o $(CFLAGS) -I${IF}/src/simulator state_queue.C
	${CC} -c -o state_stack.o $(CFLAGS) -I${IF}/src/simulator state_stack.C

tp:
	

install:
	$(shell mv tsp.a ../lib)
	$(shell mv *.o ../lib)

clean:
	-rm -f *~ *.o 
